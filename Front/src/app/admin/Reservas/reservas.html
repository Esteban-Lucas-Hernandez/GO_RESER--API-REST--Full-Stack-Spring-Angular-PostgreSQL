<div class="reservas-container">
  <h2>Gestión de Reservas</h2>

  <!-- Filtro de hoteles -->
  <div class="filtro-container">
    <label for="hotel-select">Seleccionar Hotel:</label>
    <select
      id="hotel-select"
      [(ngModel)]="hotelSeleccionado"
      (change)="onHotelChange()"
      [disabled]="cargandoHoteles"
      class="form-control"
    >
      <option *ngFor="let hotel of hoteles" [value]="hotel.id">
        {{ hotel.nombre }}
      </option>
    </select>

    <button
      (click)="cargarTodasLasReservas()"
      class="btn btn-secondary"
      [disabled]="cargandoReservas"
    >
      Mostrar Todas las Reservas
    </button>
  </div>

  <!-- Indicador de carga -->
  <div *ngIf="cargandoHoteles || cargandoReservas" class="loading">
    <p>Cargando...</p>
  </div>

  <!-- Tabla de reservas -->
  <div *ngIf="!cargandoReservas && !cargandoHoteles" class="tabla-container">
    <table class="reservas-table">
      <thead>
        <tr>
          <th>Email Usuario</th>
          <th>Número Habitación</th>
          <th>Fecha Inicio</th>
          <th>Fecha Fin</th>
          <th>Total</th>
          <th>Estado</th>
          <th>Método de Pago</th>
          <th>Fecha Reserva</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let reserva of reservas">
          <td>{{ reserva.emailUsuario }}</td>
          <td>{{ reserva.numeroHabitacion }}</td>
          <td>{{ reserva.fechaInicio | date : 'dd/MM/yyyy' }}</td>
          <td>{{ reserva.fechaFin | date : 'dd/MM/yyyy' }}</td>
          <td>${{ reserva.total }}</td>
          <td>{{ reserva.estado }}</td>
          <td>{{ reserva.metodoPago }}</td>
          <td>{{ reserva.fechaReserva | date : 'dd/MM/yyyy HH:mm' }}</td>
        </tr>
        <tr *ngIf="reservas.length === 0">
          <td colspan="8" class="no-data">No se encontraron reservas</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
